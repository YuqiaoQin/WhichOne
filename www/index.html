<!DOCTYPE html>

<html>

<head>

    <meta name="viewport" id="viewport" content="width=device-width, height=device-height, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <link rel="stylesheet" href="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css">
    <link href='//fonts.googleapis.com/css?family=Abel' rel='stylesheet'>

    <style>
        body {
            /*font-family: 'Abel';*/
        }

        .ui-page {
            width: 100%;
            height: 100%;
            margin: 0px;
            padding: 0;
            overflow-y: hidden;
            background-color: white;
        }

        .ui-content {
            padding: 0px;
            height: inherit;
            width: inherit;
        }

        .ui-bar-c {
            background: white;
        }

        .ui-btn-c {
            width: 20px;
            height: 10px;
            color: black;
            margin-left: 10px;
        }

        .mom {
            display: table;
        }

        .child {
            display: table-cell;
        }

        #header {
            background-image: url("./img/wo-header-bg.jpg");
            background-repeat: no-repeat;
            background-position: bottom;
            position: absolute;
            padding-left: 3.5%;
            padding-right: 3.5%;
            padding-top: 3%;
            width: 93.2%;
            height: 8%;
            z-index: 998;
        }

        #searchbutton {
            width: 8%;
            height: 7%;
            background-image: url("./img/search.png");
            background-position: center;
            background-repeat: no-repeat;
            background-size: 80%;
        }

        #topmenu {
            height: 9%;
            width: 8%;
            cursor: pointer;
            border-radius: 50%;
            background-image: url("./img/wo-profile.png");
            background-position: center;
            background-repeat: no-repeat;
            background-size: 80%;
        }

        #footer {
            background: url("./img/wo-bar.jpg");
            background-position: bottom;
            background-size: 100% 200%;
            height: 12%;
            width: 65%;
            margin-left: 17%;
            z-index: 998;
            position: absolute;
            bottom: 8%;
        }

        #date {
            padding-top: 4%;
            text-align: center;
        }

        .p-content {
            margin-top: 17%;
            width: 100%;
            height: 75%;
        }

        .wo-pic {
            /*margin-left: 5%;*/
            height: 60.7%;
            width: auto;
            margin-left: 6.5%;
            margin-right: 4.5%;
        }

        #p1-pic {
            background: url("./img/wo-p2-01.jpg");
            background-size: cover;
            background-repeat: no-repeat;
        }

        #p2-pic {
            background: url("./img/wo-p1-01.jpg");
            background-size: cover;
            background-repeat: no-repeat;
        }

        .wo-profile {
            width: 80%;
            height: 80%;
        }

        .wo-title1 {
            margin-left: 6.5%;
            margin-right: 4.5%;
            margin-top: 6%;
            font-size: 24px;
            text-align: center;
            font-family: 'font-family: "HelveticaNeue-CondensedBold", "HelveticaNeueBoldCondensed", "HelveticaNeue-Bold-Condensed", "Helvetica Neue Bold Condensed", "HelveticaNeueBold", "HelveticaNeue-Bold", "Helvetica Neue Bold", "HelveticaNeue", "Helvetica Neue", 'TeXGyreHerosCnBold', "Helvetica", "Tahoma", "Geneva", "Arial Narrow", "Arial", sans-serif; font-weight:600; font-stretch:condensed;';
        }

        .wo-title2 {
            margin-left: 9%;
            margin-right: 9%;
            margin-top: 2.4%;
            font-size: 16px;
            text-align: center;
            font-family: 'Abel';
        }

        .clickToRead {
            margin-top: 6%;
            margin-left: 8%;
            margin-right: 8%;
            font-size: 14px;
            text-align: center;
            font-family: 'Abel';
            color: rgb(220, 220, 220);
        }

        #profilePanel {
            transition: all 0.3s ease-in-out;
            width: 200px;
            height: 80%;
            background-color: rgba(255, 255, 255, 0.9);
            position: absolute;
            top: 0px;
            left: 0px;
            box-sizing: border-box;
            padding-top: 120px;
            z-index: 998;
            transform: translateX(-100%);
        }

        #goback {
            background-image: url("./img/goback.png");
            background-position: center;
            background-repeat: no-repeat;
            width: 200px;
            position: absolute;
            padding-top: 120px;
        }

        p.profilecontent {
            margin-left: 15px;
        }
    </style>

    <script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
    <script type="text/javascript" src="cordova.js"></script>
    <script src="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
    <script>
        window.addEventListener("load", function() {

                    var currentPage;

                    var page1 = document.getElementById(pageone);
                    var page2 = document.getElementById(pagetwo);
                    var page3 = document.getElementById(searchpage);
                    var page4 = document.getElementById(mywhichonepage);

                    var profilePanel = document.getElementById("profilePanel");
                    var
                    var menu = document.getElementById("topmenu");
                    var searchbutton = document.getElementById("searchbutton");


                    function changeContent() {

                        if (currentPage === page1 && currentPage === page2) {
                            menu.style.backgroundImage = "url('./img/wo-profile.png')";
                            chooseThis();

                        } else if (currentPage === page3 && currentPage === page4) {
                            menu.style.backgroundImage = "url('./img/goback.png')";
                            searchbutton.style.display = "none";
                            goBack();
                        }
                      }
//????? should it be there?
                        function goToPageTwo() {
                            $(document).on("pagecreate", "#pageone", function() {
                                $(document).on("swiperight", ".ui-content", function(event) {

                                    $(":mobile-pagecontainer").pagecontainer("change", "#pagetwo");
                                });
                            });

                            $(document).on("pagecreate", "#pagetwo", function() {
                                $(document).on("swipeleft", ".ui-content", function(event) {
                                    $(":mobile-pagecontainer").pagecontainer("change", "#pageone")
                                });
                            })
                        }

                        currentPage = window.location.hash;

                        // var searchBtn;
                        //
                        var myhistory = { "history": [

                                {
                                    "title": "passage 1",
                                    "subtitle": "the first"
                                },

                                {
                                    "title": "passage 2",
                                    "subtitle": "the second"
                                },

                                {
                                    "title": "passage 3",
                                    "subtitle": "the third"
                                }
                            ]}
                        var allsearches=[];
                        var currentsearch = getElementById("searchbox").value;
                        for (var i = 0; i < myhistory.length){
                          if(currentsearch=myhistory[i].title;
                          allsearches.push(currentsearch[i]);
                        }
                        for(var i=0;i<allsearches.length;i++){
                          document.getElementById("searchresult").innerHTML+="<p>+myhistoty.history[i].title"+"</p>";

                        }

                        function reset() {

                        }

                        function goToSliderPanel() {

                            var menuStatus = false;

                            // console.log(menu);

                            var toggleMenu = function(status) {

                                if (status === true) {
                                    profilePanel.style.transform = "translateX(0%)";
                                } else {
                                    profilePanel.style.transform = "translateX(-100%)";
                                }
                            }

                            menu.addEventListener("click", function() {
                                menuStatus = !menuStatus;
                                toggleMenu(menuStatus);
                            });
                        }

                        // GO to Search page
                        function loadSearchPage() {

                            searchbutton.addEventListener("click", function() {
                                $(":mobile-pagecontainer").pagecontainer("change", "#searchPage");
                            });
                        }


                        //CLILK TO CHOOSE

                        function chooseThis() {

                            var bar1 = document.getElementById("footer");
                            var collectState = false;

                            var changeColor = function(state) {
                                if (state === true) {
                                    bar1.style.backgroundPosition = "center top";
                                } else {
                                    bar1.style.backgroundPosition = "center bottom";
                                }
                            }
                            currentPage.addEventListener("click", function() {
                                collectState = !collectState;
                                changeColor(collectState);
                            });

                        }


                        function goback(){

                          var goback = document.getElementById("topmenu");
                          goback.addEventListener("click", function() {
                              $(":mobile-pagecontainer").pagecontainer("change", "#pageone");// how to come back to last page
                          })

                        }

                        var currentHash = "";
                        // current hash only happen in page one and two

                        var mywhichone = document.getElementById("mywhichone");
                        mywhichone.addEventListener("click", function() {
                            currentHash = window.location.hash;
                            $(":mobile-pagecontainer").pagecontainer("change", "#mywhichonepage")

                        });

                        var whichBackBtn = document.getElementById("whichBackBtn");
                        whichBackBtn.addEventListener("click", function() {
                            //console.log("uadgsykfj");
                            $(":mobile-pagecontainer").pagecontainer("change", currentPage);
                        });

                    });
    </script>

</head>

<body>




    <!-- slider panel -->
    <div id="profilePanel">

        <p class="profilecontent" id="mywhichone">My Which One</p>
        <P class="profilecontent">Setting</p>

    </div>

    //
    <!-- header -->
    <div id="header" class="mom">

        <div id="topmenu" class="child"></div>

        <div id="date" class="child">
            03/27/2017
        </div>

        <div id="searchbutton" class="child"></div>


    </div>

    <div id="footer" class="bar">

    </div>

    //
    <!--  page two content-->
    <div data-role="page" id="pageone" class="wopage">

        <div data-role="main" class="ui-content">

            <div class="p-content">


                <div <div id="p1-pic" class="wo-pic"></div>

                <div id="p1-title" class="wo-title1">
                    James Turrell
                </div>

                <div id="p1-title" class="wo-title2">
                    How James Turrell Knocked the Art World Off Its Feet
                </div>

                <div class="clickToRead">
                    Read the full content
                </div>


            </div>
        </div>
    </div>


    //
    <!-- Page one content -->
    <div data-role="page" id="pagetwo" class="wo-page">

        <div data-role="main" class="ui-content">

            <div class="p-content">

                <div id="p2-pic" class="wo-pic">
                </div>

                <div id="p2-title" class="wo-title1">
                    Dear Angelica
                </div>
                <div id="p2-title" class="wo-title2">
                    How Oculus Reinvented VR Animation With a Little Help From Geena Davis
                </div>
                <div class="clickToRead">
                    Read the full content
                </div>

            </div>

        </div>

    </div>


    //
    <!-- my whichone page -->
    <div data-role="page" id="mywhichonepage" class="wo-page">
        <div data-role="main" class="ui-content">
            <p>This is mywhichonepage</p>
            <a id="whichBackBtn" class="ui-btn-c">Back</a>
        </div>
    </div>


    //
    <!-- search page -->
    <div data-role="page" id="searchpage" class="wo-page">

        <div id="search">

            <input placeholder=" Search" id="searchbox"><br />
            <button id="searchbtn" type="button"> Search </button>

        </div>
        <div id="searchresult">

        </div>

    </div>


</body>

</html>
